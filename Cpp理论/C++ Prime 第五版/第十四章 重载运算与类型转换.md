# **琐碎**

- 除重载的函数调用运算符 `()` 外，其他重载运算符不能有默认实参
- 只能重载已有的运算符
- 通常情况下，不应该重载逗号、取地址、逻辑与和逻辑或等运算符

---

# **输入与输出运算符**

- 必须为友元函数

- 重载输出运算符 `<<`

  - 第一个形参为非常量 `ostream` 对象的引用（该对象不可复制且需要对其写入）
  - 第二个形参为常量的引用，是需要打印的类类型
  - 返回 `ostream` 形参的引用（连续输出）
  - 主要控制输出内容而非格式，不应该打印换行符

- 重载输入运算符 `>>`

  - 第一个形参为要读取的流的引用
  - 第二个形参为将要读入到的非常量对象的引用

---

# **其他运算符**

- 算术和关系运算符

  - 相等运算符

      ![第十四章 重载运算与类型转换-2022-03-13-22-34-34](https://raw.githubusercontent.com/Be-A-God/Drawing-bed/main/note/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%20%E9%87%8D%E8%BD%BD%E8%BF%90%E7%AE%97%E4%B8%8E%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2-2022-03-13-22-34-34.png)

  - 关系运算符

      ![第十四章 重载运算与类型转换-2022-03-13-22-34-51](https://raw.githubusercontent.com/Be-A-God/Drawing-bed/main/note/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%20%E9%87%8D%E8%BD%BD%E8%BF%90%E7%AE%97%E4%B8%8E%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2-2022-03-13-22-34-51.png)

- 赋值运算符

  - 检查对象是否向自身赋值
  - 赋值运算符须定位为成员函数

- 下标运算符

  - 必须是成员函数
  - 通常有两个版本：返回普通引用、是类的常量成员且返回常量引用

- 递增和递减运算符

  - 通常定义前置和后置两个版本
  - 前置运算符返回递增（递减）后对象的引用
  - 后置版本接受一个额外（不被使用）的 `int` 类型形参（用于区分前后缀版本）
  - 后置运算符返回对象的原值

- 成员访问运算符

  - 箭头运算符必须是类的成员
  - 解引用运算符通常也是类的成员（但并非必须如此）

- 函数调用运算符

  - 必须是成员函数

  - 定义了调用运算符的对象成为函数对象

  - 标准库函数对象

    ![第十四章 重载运算与类型转换-2022-03-13-22-41-58](https://raw.githubusercontent.com/Be-A-God/Drawing-bed/main/note/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%20%E9%87%8D%E8%BD%BD%E8%BF%90%E7%AE%97%E4%B8%8E%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2-2022-03-13-22-41-58.png)

---

# **重载、类型转换与运算符**

  - 形式：`operator type() const;`
  - 面向任意类型（除 `void` ）外进行定义
  - 没有显式的返回类型，也没有形参，必须定义为类的成员函数
  - 通常不应该改变待转换对象的内容
  - 通常情况，不要为类定义相同的类型转换，也不要在类中定义两个及两个以上转换源或转换目标是算术类型的转换
