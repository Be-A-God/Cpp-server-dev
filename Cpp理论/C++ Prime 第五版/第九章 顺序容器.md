# **顺序容器**

- 元素在顺序容器中的顺序与其加入容器时的位置相对应

- 顺序容器提供了控制元素存储和访问顺序的能力，依赖于加入容器时的位置

- 常见顺序容器类型

    ![顺序容器.png](http://120.77.180.209/2022/03/09/46dd43337c5d3.png)

- 容器操作

    ![容器操作.png](http://120.77.180.209/2022/03/09/048683e52b709.png)

    ![容器操作.png](http://120.77.180.209/2022/03/09/1c682048e1254.png)

- 容器定义与初始化

    ![定义与初始化.png](http://120.77.180.209/2022/03/09/1c1c4fc6eedad.png)

  - 只有顺序容器的构造函数才接受大小参数，关联容器不支持
  - 定义 `array` 容器时，除了指定元素类型，还要指定容器大小
  - 内置数组类型不能进行拷贝或赋值操作，但 `array` 容器没有这个限制

- 赋值与交换

    ![赋值与交换.png](http://120.77.180.209/2022/03/09/26632cc4ec063.png)

  - 交换两个容器内容很快，元素本身并未交换，交换操作只是交换了两个容器的内部数据结构
  - 与其他容器不用，交换两个 `array` 容器会真正交换他们的元素

- 添加元素

    ![添加元素.png](http://120.77.180.209/2022/03/09/2357a55ea47bb.png)

  - `emplace` 函数在容器中直接构造元素，而不是创建对象副本压入容器

- 访问操作

    ![访问.png](http://120.77.180.209/2022/03/09/31f57967f71b8.png)

  - 在容器中访问元素的成员函数返回的都是引用

- 删除操作

    ![删除操作.png](http://120.77.180.209/2022/03/09/bedeeada4df52.png)

- 特殊的 `forward_list` 操作

    ![forward_list.png](http://120.77.180.209/2022/03/09/a03b7314a24b5.png)

- 改变大小

    ![改变大小.png](http://120.77.180.209/2022/03/09/3b9a7ba56be0c.png)

---

# **迭代器**

    迭代器失效：    

    如果容器是vector或string，且存储空间被重新分配，则指向容器的迭代器、指针和引用都会失效。如果存储空间未重新分配，指向插入位置之前的元素的迭代器、指针和引用仍有效，但指向插入位置之后元素的迭代器、指针和引用将会失效

    对于deque，插入到除首尾位置之外的任何位置都会导致迭代器、指针和引用失效。如果在首尾位置添加元素，迭代器会失效，但指向存在的元素的引用和指针不会失效

    对于deque，插入到除首尾位置之外的任何位置都会导致迭代器、指针和引用失效。如果在首尾位置添加元素，迭代器会失效，但指向存在的元素的引用和指针不会失效

    对于list和forward_list，指向容器其他位置的迭代器（包括尾后迭代器和首前迭代器）、引用和指针仍有效

---

# **vector 对象**

- 容器大小管理操作

    ![大小管理.png](http://120.77.180.209/2022/03/09/fd197a3375be5.png)

- `reserve` 并不改变容器中元素的数量，仅影响 `vector` 预先分配的内存空间大小

- 只有操作需求超出 `vector` 容量， `vector` 才重新分配内存空间

---

# **string 对象**

- 构造函数

    ![构造函数.png](http://120.77.180.209/2022/03/09/9990c99eea14f.png)

- 子字符串操作

    ![子字符串.png](http://120.77.180.209/2022/03/09/e28fab5ff4387.png)

- 搜索

    ![搜索.png](http://120.77.180.209/2022/03/09/a68e2c2863cd3.png)
    ![搜索.png](http://120.77.180.209/2022/03/09/63fd583f7bd58.png)

  - `string` 类提供6个不同的搜索函数，每个函数都有4个重载版本
  - 搜索成功返回匹配发生位置的下标；失败返回值为-1的 `static` 成员 `string::npos`
  - 逆向搜索 `rfind`

- 数值转换

    ![数值转换.png](http://120.77.180.209/2022/03/09/8d94e5aff9b74.png)

- 其他操作

    ![操作.png](http://120.77.180.209/2022/03/09/8bf4ef55b8e68.png)

    ![操作.png](http://120.77.180.209/2022/03/09/d5885c7d398e5.png)

---

# **容器适配器**

- 类型：`stack` `queue` `priority_queue`

- 操作和类型

    ![操作和类型.png](http://120.77.180.209/2022/03/09/02d6cf7c6105d.png)

- 定义适配器

  - 默认构造函数创建一个空对象
  - 接受一个容器的构造函数拷贝该容器来初始化适配器
  - 所有适配器都要求容器具有添加、删除元素和访问尾元素的能力

- `stack` 栈适配器

    ![stack.png](http://120.77.180.209/2022/03/09/491f6f59b5118.png)

- `queue` 队列适配器

    ![queue.png](http://120.77.180.209/2022/03/09/4b62909051bab.png)
    ![queue.png](http://120.77.180.209/2022/03/09/6ded691334ed0.png)

- `priority_queue` 允许在队列中建立元素优先级